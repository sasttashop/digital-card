<!doctype html>
<html lang="ur">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Digital Visiting Card - Akhter Rasool (PWA)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>body{font-family:'Inter',sans-serif;background:#e0e5ec;direction:rtl}.neumorphic-button{background:#e0e5ec;border-radius:50%;box-shadow:6px 6px 12px #c1c9d2,-6px -6px 12px #fff;transition:all .15s}.neumorphic-button:active{box-shadow:inset 4px 4px 8px #c1c9d2,inset -4px -4px 8px #fff}.neumorphic-card{background:#e0e5ec;border-radius:20px;box-shadow:10px 10px 20px #c1c9d2,-10px -10px 20px #fff}
  .install-hint{position:fixed;left:16px;right:16px;bottom:20px;background:linear-gradient(90deg,#ffffffcc,#f3f4f6cc);backdrop-filter:blur(6px);border-radius:12px;padding:10px 14px;box-shadow:0 6px 18px rgba(0,0,0,.08);display:flex;gap:10px;align-items:center;justify-content:space-between}
  </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

  <!-- Main Card -->
  <div class="w-full max-w-sm neumorphic-card p-8 text-center">
    <img class="w-32 h-32 rounded-full mx-auto object-cover" src="https://i.postimg.cc/fLgqKqfF/AKHTER.jpg" alt="Akhter Rasool" style="box-shadow:8px 8px 16px #c1c9d2,-8px -8px 16px #fff" onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=128 height=128><rect width=100% height=100% fill=%27%23cccccc%27/><text x=50% y=50% dominant-baseline=middle text-anchor=middle font-family=Inter font-size=22 fill=%27%23ffffff%27>AK</text></svg>'">
    <h1 class="text-3xl font-bold text-gray-800 mt-6">Akhter Rasool</h1>
    <p class="text-md text-gray-600 mt-1">Business owner | Freelancer</p>

    <div class="mt-8 flex justify-center items-center flex-wrap gap-4">
      <a href="tel:+923173002910" class="p-4 neumorphic-button" aria-label="Call"><img src="https://img.icons8.com/ios-glyphs/30/3B82F6/phone.png" class="w-6 h-6"></a>
      <a href="https://wa.me/923232631530" class="p-4 neumorphic-button" aria-label="WhatsApp"><img src="https://img.icons8.com/ios-glyphs/30/25D366/whatsapp.png" class="w-6 h-6"></a>
      <a href="https://www.facebook.com/share/1Jhp8Xm7Hi/" target="_blank" class="p-4 neumorphic-button" aria-label="Facebook"><img src="https://img.icons8.com/ios-glyphs/30/1877F2/facebook-new.png" class="w-6 h-6"></a>
      <a href="https://x.com/yourprofile" target="_blank" class="p-4 neumorphic-button" aria-label="X"><img src="https://img.icons8.com/ios-glyphs/30/000000/twitterx.png" class="w-6 h-6"></a>
      <a href="https://tiktok.com/@yourprofile" target="_blank" class="p-4 neumorphic-button" aria-label="TikTok"><img src="https://img.icons8.com/ios-glyphs/30/000000/tiktok.png" class="w-6 h-6"></a>
      <a href="https://maps.app.goo.gl/A45w6mRxmrUr28by8" target="_blank" class="p-4 neumorphic-button" aria-label="Location"><img src="https://img.icons8.com/ios-glyphs/30/EA4335/marker.png" class="w-6 h-6"></a>
      <a href="https://sassta.shop" target="_blank" class="p-4 neumorphic-button" aria-label="Website"><img src="https://img.icons8.com/ios-glyphs/30/6B7280/domain.png" class="w-6 h-6"></a>
      <!-- Inline Save Contact Button with embedded vCard -->
      <a href="data:text/vcard;charset=utf-8,BEGIN%3AVCARD%0AVERSION%3A3.0%0AFN%3AAkhter%20Rasool%0AORG%3ABusiness%20Owner%20%7C%20Freelancer%0ATEL%3BTYPE%3Dcell%3A%2B923173002910%0ATEL%3BTYPE%3Dcell%3A%2B923232631530%0AEMAIL%3Aakhter%40example.com%0AURL%3Ahttps%3A%2F%2Fsassta.shop%0AURL%3Ahttps%3A%2F%2Fwww.facebook.com%2Fshare%2F1Jhp8Xm7Hi%2F%0AURL%3Ahttps%3A%2F%2Fwa.me%2F923232631530%0AURL%3Ahttps%3A%2F%2Fmaps.app.goo.gl%2FA45w6mRxmrUr28by8%0AEND%3AVCARD" download="AkhterRasool.vcf" class="p-4 neumorphic-button" aria-label="Save Contact">
        <img src="https://img.icons8.com/ios-glyphs/30/10B981/add-contact-to-company.png" class="w-6 h-6">
      </a>
    </div>
  </div>

  <!-- Install hint (appears on supporting browsers) -->
  <div id="installHint" class="install-hint" style="display:none">
    <div style="display:flex;gap:10px;align-items:center">
      <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='48' height='48'><rect width='48' height='48' rx='8' fill='%23006bff'/><text x='50%' y='54%' dominant-baseline='middle' text-anchor='middle' font-size='20' font-family='Inter' fill='white'>AR</text></svg>" width="44" height="44">
      <div style="text-align:left">
        <div style="font-weight:600">Install Card</div>
        <div style="font-size:13px;color:#374151">اپنی سکرین پر سیو کرنے کے لیے 'Install' یا 'Add to Home screen' کریں</div>
      </div>
    </div>
    <div style="display:flex;gap:8px">
      <button id="doInstall" class="px-4 py-2 rounded bg-blue-600 text-white">Install</button>
      <button id="dismissInstall" class="px-4 py-2 rounded border">بعد میں</button>
    </div>
  </div>

<script>
const iconSmall = 'data:image/svg+xml;utf8,' + encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="192" height="192"><rect rx="24" width="100%" height="100%" fill="#006bff"/><text x="50%" y="55%" fill="#fff" font-family="Inter, Arial" font-weight="700" font-size="72" text-anchor="middle" dominant-baseline="middle">AR</text></svg>');
const iconLarge = 'data:image/svg+xml;utf8,' + encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512"><rect rx="48" width="100%" height="100%" fill="#006bff"/><text x="50%" y="55%" fill="#fff" font-family="Inter, Arial" font-weight="700" font-size="220" text-anchor="middle" dominant-baseline="middle">AR</text></svg>');

const manifest = {
  name: 'Akhter Rasool - Digital Card',
  short_name: 'AkhterCard',
  description: 'Digital visiting card for Akhter Rasool',
  start_url: './',
  display: 'standalone',
  background_color: '#e0e5ec',
  theme_color: '#006bff',
  icons: [
    { src: iconSmall, sizes: '192x192', type: 'image/svg+xml' },
    { src: iconLarge, sizes: '512x512', type: 'image/svg+xml' }
  ]
};

const manifestBlob = new Blob([JSON.stringify(manifest)], {type: 'application/json'});
const manifestURL = URL.createObjectURL(manifestBlob);
const link = document.createElement('link');
link.rel = 'manifest';
link.href = manifestURL;
document.head.appendChild(link);

const swCode = `self.addEventListener('install', event => {\n  event.waitUntil(caches.open('card-v1').then(cache => cache.addAll(['./'])));\n  self.skipWaiting();\n});\nself.addEventListener('fetch', e => {\n  e.respondWith(caches.match(e.request).then(r => r || fetch(e.request)));\n});`;

if ('serviceWorker' in navigator) {
  const swBlob = new Blob([swCode], {type: 'application/javascript'});
  const swUrl = URL.createObjectURL(swBlob);
  navigator.serviceWorker.register(swUrl).catch(err => console.warn('SW register failed', err));
}

let deferredPrompt = null;
window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  deferredPrompt = e;
  document.getElementById('installHint').style.display = 'flex';
});

document.getElementById('doInstall').addEventListener('click', async () => {
  if (deferredPrompt) {
    deferredPrompt.prompt();
    const choiceResult = await deferredPrompt.userChoice;
    deferredPrompt = null;
    document.getElementById('installHint').style.display = 'none';
  }
});

document.getElementById('dismissInstall').addEventListener('click', ()=>{
  document.getElementById('installHint').style.display = 'none';
});

const isIos = /iphone|ipad|ipod/.test(window.navigator.userAgent.toLowerCase());
const isInStandalone = ('standalone' in window.navigator) && window.navigator.standalone;
if (isIos && !isInStandalone) {
  setTimeout(()=>{
    alert('iOS صارف: شئیر یا Safari کے شئیر بٹن سے "Add to Home Screen" کریں تاکہ آپ کا کارڈ آئیکن کی طرح ظاہر ہو۔');
  }, 800);
}
</script>
</body>
</html>